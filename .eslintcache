[{"E:\\web-touch-news\\src\\index.js":"1","E:\\web-touch-news\\src\\App.js":"2","E:\\web-touch-news\\src\\reportWebVitals.js":"3","E:\\web-touch-news\\src\\Root.js":"4","E:\\web-touch-news\\src\\pages\\login\\index.js":"5","E:\\web-touch-news\\src\\components\\layout\\header\\index.js":"6","E:\\web-touch-news\\src\\components\\router\\index.js":"7","E:\\web-touch-news\\src\\components\\layout\\sider\\index.js":"8","E:\\web-touch-news\\src\\config.js":"9","E:\\web-touch-news\\src\\constants\\home\\index.js":"10","E:\\web-touch-news\\src\\constants\\profile\\index.js":"11","E:\\web-touch-news\\src\\constants\\manage\\index.js":"12","E:\\web-touch-news\\src\\constants\\viewNews\\index.js":"13","E:\\web-touch-news\\src\\components\\layout\\table\\index.js":"14","E:\\web-touch-news\\src\\components\\layout\\modal\\index.js":"15","E:\\web-touch-news\\src\\components\\layout\\timeline\\index.js":"16","E:\\web-touch-news\\src\\components\\layout\\pagination\\index.js":"17","E:\\web-touch-news\\src\\HttpClient.js":"18","E:\\web-touch-news\\src\\constants\\admin\\home\\index.js":"19"},{"size":497,"mtime":1610510170480,"results":"20","hashOfConfig":"21"},{"size":704,"mtime":1611129618706,"results":"22","hashOfConfig":"21"},{"size":375,"mtime":1610073374053,"results":"23","hashOfConfig":"21"},{"size":712,"mtime":1610611664028,"results":"24","hashOfConfig":"21"},{"size":4895,"mtime":1611129760193,"results":"25","hashOfConfig":"21"},{"size":2325,"mtime":1610952241484,"results":"26","hashOfConfig":"21"},{"size":1875,"mtime":1611129312548,"results":"27","hashOfConfig":"21"},{"size":1388,"mtime":1611128797547,"results":"28","hashOfConfig":"21"},{"size":191,"mtime":1610961628156,"results":"29","hashOfConfig":"21"},{"size":6628,"mtime":1611135923878,"results":"30","hashOfConfig":"21"},{"size":8863,"mtime":1611129180556,"results":"31","hashOfConfig":"21"},{"size":9722,"mtime":1611051087390,"results":"32","hashOfConfig":"21"},{"size":6690,"mtime":1610594547335,"results":"33","hashOfConfig":"21"},{"size":793,"mtime":1610872756798,"results":"34","hashOfConfig":"21"},{"size":1295,"mtime":1610693298822,"results":"35","hashOfConfig":"21"},{"size":930,"mtime":1610512973188,"results":"36","hashOfConfig":"21"},{"size":337,"mtime":1610522627840,"results":"37","hashOfConfig":"21"},{"size":508,"mtime":1610611222335,"results":"38","hashOfConfig":"21"},{"size":8092,"mtime":1611137379730,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1hmo6ys",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\web-touch-news\\src\\index.js",[],["81","82"],"E:\\web-touch-news\\src\\App.js",[],"E:\\web-touch-news\\src\\reportWebVitals.js",[],"E:\\web-touch-news\\src\\Root.js",[],"E:\\web-touch-news\\src\\pages\\login\\index.js",["83","84"],"E:\\web-touch-news\\src\\components\\layout\\header\\index.js",[],"E:\\web-touch-news\\src\\components\\router\\index.js",[],"E:\\web-touch-news\\src\\components\\layout\\sider\\index.js",[],"E:\\web-touch-news\\src\\config.js",[],"E:\\web-touch-news\\src\\constants\\home\\index.js",[],"E:\\web-touch-news\\src\\constants\\profile\\index.js",["85","86","87","88","89"],"E:\\web-touch-news\\src\\constants\\manage\\index.js",["90","91","92","93","94","95"],"import { Breadcrumb, Button, Col, Form, Input, Layout, Row, Space, Switch, Tooltip, message } from 'antd';\r\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined, PlusOutlined, UserOutlined } from '@ant-design/icons';\r\nimport React, { useEffect, useState } from \"react\"\r\n\r\nimport FormData from 'form-data'\r\nimport { Link } from \"react-router-dom\"\r\nimport Modals from 'components/layout/modal/index'\r\nimport Tables from 'components/layout/table/index'\r\nimport config from 'config'\r\nimport { httpClient } from 'HttpClient'\r\n\r\nconst { Search } = Input;\r\nconst { Content } = Layout;\r\n\r\nconst Manage = () => {\r\n  const [dataSource, setDataSource] = useState();\r\n  const [dataFilter, setDataFilter] = useState(\"\")\r\n  const [current, setCurrent] = useState(1)\r\n  const [pagination, setPagination] = useState({ pageCurrent: 1, perPage: 1, totalPage: 1 })\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [modalData, setModalData] = useState({ type: '', icon: null, title: '', okColor: '', content: '', okText: '', onOk: null });\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [dataFilter, current])\r\n\r\n  const getData = () => {\r\n    const params = {\r\n      per_page: '15',\r\n      page: current,\r\n    }\r\n    httpClient.get(config.manageURL + '/admin', { params })\r\n      .then(function (response) {\r\n        console.log('response', response)\r\n        const code = response.data.code\r\n        const data = response.data.data.data_list\r\n        setPagination({\r\n          currentPage: response.data.data.pagination.current_page,\r\n          perPage: response.data.data.pagination.per_page,\r\n          totalPage: response.data.data.pagination.total\r\n        })\r\n        if (code === 200) {\r\n          const dataMap = data.map((item, key) => {\r\n            item.key = item.id\r\n            item.email = item.email\r\n            item.name = item.firstname + ' ' + item.lastname\r\n            // item.suspend = item.suspend\r\n            { item.suspend === \"true\" ? item.suspend = true : item.suspend = false }\r\n            return item\r\n          })\r\n          setDataSource(dataMap)\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  const onInsert = (value) => {\r\n    // console.log('email', value.email)\r\n    // let setData = new FormData();\r\n    // setData.append(\"email\", value);\r\n    httpClient.post(config.manageURL + '/admin', `{\"email\":\"${value.email}\"}`)\r\n      .then(function (response) {\r\n        const code = response.data.code\r\n        console.log('response', response)\r\n        if (code === 201) {\r\n          setModalData({\r\n            type: 'show',\r\n            icon: <UserOutlined className=\"manage-icon-insert\" />,\r\n            title: 'เพิ่มผู้ดูแลระบบใหม่',\r\n            okColor: '#216258',\r\n            okText: 'ตกลง',\r\n            onOk() {\r\n              setIsModalVisible(false)\r\n            },\r\n            content: ({\r\n              email: response.data.data.email,\r\n              password: response.data.data.password\r\n            }),\r\n          })\r\n          showModal()\r\n          setDataFilter(response.data.data.email)\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  const onDelete = (record) => {\r\n    console.log('Delete id : ', record.key)\r\n    setModalData({\r\n      type: 'confirm',\r\n      icon: <DeleteOutlined className=\"manage-icon-delete\" />,\r\n      title: 'คุณต้องการลบผู้ดูแลระบบนี้ หรือไม่ ! ',\r\n      okColor: 'red',\r\n      okText: 'ลบ',\r\n      content: record.email,\r\n      onOk() {\r\n        setIsModalVisible(false)\r\n        httpClient.delete(config.manageURL + '/admin/' + record.key)\r\n          .then(function (response) {\r\n            const code = response.data.code\r\n            if (code === 200) {\r\n              message.success('ลบผู้ดูแลระบบสำเร็จ');\r\n              setDataFilter(record.key)\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n            message.error('ลบไม่สำเร็จ');\r\n          })\r\n      },\r\n    })\r\n    setIsModalVisible(true)\r\n  }\r\n\r\n  const onEdit = (record) => {\r\n\r\n  }\r\n\r\n  const onSuspend = (checked, record) => {\r\n    // console.log('checked', checked)\r\n    // console.log('record', record)\r\n    if (checked === false) {\r\n      setModalData({\r\n        type: 'confirm',\r\n        icon: <ExclamationCircleOutlined className=\"manage-icon-suspend\" />,\r\n        title: 'คุณต้องการระงับผู้ดูแลระบบนี้ หรือไม่ ! ',\r\n        okColor: 'orange',\r\n        content: record.email,\r\n        okText: 'ระงับ',\r\n        onOk() {\r\n          setIsModalVisible(false)\r\n          httpClient.put(config.manageURL + '/admin/suspend/' + record.key, `{\"suspend\": \"false\" }`)\r\n            .then(function (response) {\r\n              console.log('response', response)\r\n              const code = response.data.code\r\n              if (code === 200) {\r\n                message.success('ระงับผู้ดูแลระบบสำเร็จ');\r\n                setDataFilter(record.key)\r\n              }\r\n            })\r\n            .catch(function (error) {\r\n              console.log(error);\r\n              message.error('ระงับผู้ดูแลระบบไม่สำเร็จ');\r\n            })\r\n\r\n        },\r\n      })\r\n      setIsModalVisible(true)\r\n    }\r\n    else {\r\n      console.log('checked', checked)\r\n      httpClient.put(config.manageURL + '/admin/suspend/' + record.key, `{\"suspend\": \"true\" }`)\r\n        .then(function (response) {\r\n          message.success('อนุญาติผู้ดูแลระบบสำเร็จ');\r\n        })\r\n        .catch(function (error) {\r\n          message.error('อนุญาติผู้ดูแลระบบไม่สำเร็จ');\r\n        })\r\n    }\r\n  }\r\n\r\n  const onSearch = (value) => {\r\n  }\r\n\r\n  const currentPage = (value) => {\r\n    setCurrent(value);\r\n    console.log('currentPage', current)\r\n  }\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true)\r\n  };\r\n\r\n  const handleOk = () => {\r\n    console.log('OK')\r\n    setIsModalVisible(false)\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false)\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'อีเมล',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'ชื่อ - นามสกุล',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: '',\r\n      width: '15%',\r\n      key: 'action',\r\n      render: (text, record) => (\r\n        <Space >\r\n          <Tooltip placement=\"bottom\" title=\"แก้ไข\">\r\n            <Link to={`/manage/profile/${record.key}`}>\r\n              <EditOutlined className=\"manage-icon-edit\" />\r\n            </Link>\r\n          </Tooltip>\r\n          <Tooltip placement=\"bottom\" title=\"ลบ\">\r\n            <DeleteOutlined className=\"manage-icon-delete\" onClick={() => { onDelete(record) }} />\r\n          </Tooltip>\r\n          <Tooltip placement=\"bottom\" title=\"ระงับ\">\r\n            <Switch size=\"small\" defaultChecked={record.suspend} onClick={(e) => { onSuspend(e, record) }} />\r\n          </Tooltip>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <>\r\n      <Breadcrumb style={{ margin: '4px 0' }}>\r\n        <Breadcrumb.Item>ผู้ดูแลระบบ</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <Content className=\"manage-content\">\r\n        <Row style={{height:'32px'}}>\r\n          <Col span={18}>\r\n            <Form name=\"email\" layout=\"inline\" onFinish={onInsert}>\r\n              <Form.Item>\r\n                <div className=\"manage-Text\">ผู้ดูแลระบบ</div>\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: false,\r\n                  },\r\n                ]}\r\n                className=\"manage-Input\">\r\n                <Input placeholder=\"กรอกอีเมล\" />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button className=\"manage-button\" type=\"primary\" htmlType=\"submit\" icon={<PlusOutlined />}>เพิ่ม</Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Col>\r\n          <Col span={6} style={{ textAlign: 'right' }}>\r\n            <Search placeholder=\"ค้นหา\" className=\"manage-search\" onSearch={onSearch} />\r\n          </Col>\r\n        </Row>\r\n        <Tables\r\n          columns={columns}\r\n          dataSource={dataSource}\r\n          setCurrentPage={currentPage}\r\n          pageCurrent={pagination.pageCurrent}\r\n          perPage={pagination.perPage}\r\n          totalPage={pagination.totalPage}\r\n        />\r\n      </Content>\r\n      <Modals\r\n        isModalVisible={isModalVisible}\r\n        onOk={modalData.onOk}\r\n        onCancel={handleCancel}\r\n        modalData={modalData}\r\n      >\r\n        {modalData.type === 'show' ?\r\n          <>\r\n            <div style={{ marginLeft: '80px' }}>อีเมล : {modalData.content.email}</div>\r\n            <div style={{ marginLeft: '80px' }}>รหัสผ่าน {modalData.content.password}</div>\r\n            <div style={{ marginLeft: '40px', marginTop: '20px', color: 'red' }}>*ระบบจะแสดงข้อมูลเพียงครั้งเดียว*</div>\r\n          </>\r\n          :\r\n          <p style={{ marginLeft: '80px' }}>{modalData.content}</p>\r\n        }\r\n      </Modals>\r\n    </>\r\n  );\r\n}\r\nexport default Manage","E:\\web-touch-news\\src\\constants\\viewNews\\index.js",[],"E:\\web-touch-news\\src\\components\\layout\\table\\index.js",["96"],"import { Table } from 'antd'\r\n\r\nconst Tables = (props) => {\r\n    const pagination = {\r\n        pageSize: props.perPage,\r\n        total: props.totalPage,\r\n        current: props.pageCurrent\r\n    }\r\n    const onChange = (pagination, filters, sorter, extra) => {\r\n        // console.log('params', pagination, filters, sorter, extra)\r\n        props.setCurrentPage(pagination.current)\r\n    }\r\n    return (\r\n        <>\r\n            <Table\r\n                pagination={false}\r\n                columns={props.columns}\r\n                dataSource={props.dataSource}\r\n                scroll={{ x: 'fit-content' }}\r\n                onChange={onChange}\r\n                style={{ marginTop: '20px' }}\r\n                pagination={pagination}\r\n\r\n            />\r\n        </>\r\n    );\r\n}\r\nexport default Tables","E:\\web-touch-news\\src\\components\\layout\\modal\\index.js",[],"E:\\web-touch-news\\src\\components\\layout\\timeline\\index.js",[],"E:\\web-touch-news\\src\\components\\layout\\pagination\\index.js",[],"E:\\web-touch-news\\src\\HttpClient.js",[],"E:\\web-touch-news\\src\\constants\\admin\\home\\index.js",["97","98","99","100","101","102"],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":11,"column":22,"nodeType":"109","messageId":"110","endLine":11,"endColumn":33},{"ruleId":"107","severity":1,"message":"111","line":12,"column":22,"nodeType":"109","messageId":"110","endLine":12,"endColumn":33},{"ruleId":"107","severity":1,"message":"112","line":3,"column":16,"nodeType":"109","messageId":"110","endLine":3,"endColumn":25},{"ruleId":"107","severity":1,"message":"113","line":118,"column":9,"nodeType":"109","messageId":"110","endLine":118,"endColumn":20},{"ruleId":"107","severity":1,"message":"114","line":135,"column":9,"nodeType":"109","messageId":"110","endLine":135,"endColumn":17},{"ruleId":"115","severity":1,"message":"116","line":188,"column":21,"nodeType":"117","endLine":188,"endColumn":50},{"ruleId":"115","severity":1,"message":"116","line":192,"column":21,"nodeType":"117","endLine":192,"endColumn":44},{"ruleId":"107","severity":1,"message":"118","line":5,"column":8,"nodeType":"109","messageId":"110","endLine":5,"endColumn":16},{"ruleId":"119","severity":1,"message":"120","line":25,"column":6,"nodeType":"121","endLine":25,"endColumn":27,"suggestions":"122"},{"ruleId":"123","severity":1,"message":"124","line":45,"column":26,"nodeType":"125","messageId":"126","endLine":45,"endColumn":36},{"ruleId":"127","severity":1,"message":"128","line":48,"column":13,"nodeType":"129","messageId":"130","endLine":48,"endColumn":85},{"ruleId":"107","severity":1,"message":"131","line":119,"column":9,"nodeType":"109","messageId":"110","endLine":119,"endColumn":15},{"ruleId":"107","severity":1,"message":"114","line":178,"column":9,"nodeType":"109","messageId":"110","endLine":178,"endColumn":17},{"ruleId":"132","severity":1,"message":"133","line":22,"column":17,"nodeType":"134","endLine":22,"endColumn":40},{"ruleId":"107","severity":1,"message":"135","line":1,"column":35,"nodeType":"109","messageId":"110","endLine":1,"endColumn":43},{"ruleId":"107","severity":1,"message":"136","line":1,"column":60,"nodeType":"109","messageId":"110","endLine":1,"endColumn":64},{"ruleId":"107","severity":1,"message":"137","line":2,"column":59,"nodeType":"109","messageId":"110","endLine":2,"endColumn":71},{"ruleId":"107","severity":1,"message":"138","line":7,"column":8,"nodeType":"109","messageId":"110","endLine":7,"endColumn":18},{"ruleId":"107","severity":1,"message":"139","line":28,"column":11,"nodeType":"109","messageId":"110","endLine":28,"endColumn":21},{"ruleId":"107","severity":1,"message":"140","line":40,"column":11,"nodeType":"109","messageId":"110","endLine":40,"endColumn":19},"no-native-reassign",["141"],"no-negated-in-lhs",["142"],"no-unused-vars","'setUsername' is assigned a value but never used.","Identifier","unusedVar","'setPassword' is assigned a value but never used.","'useParams' is defined but never used.","'newPassword' is assigned a value but never used.","'handleOk' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'FormData' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.","ArrayExpression",["143"],"no-self-assign","'item.email' is assigned to itself.","MemberExpression","selfAssignment","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","'onEdit' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'Dropdown' is defined but never used.","'Menu' is defined but never used.","'MoreOutlined' is defined but never used.","'Pagination' is defined but never used.","'onTimeline' is assigned a value but never used.","'onDelete' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"144","fix":"145"},"Update the dependencies array to be: [dataFilter, current, getData]",{"range":"146","text":"147"},[1100,1121],"[dataFilter, current, getData]"]